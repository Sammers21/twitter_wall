<html>
<head>
    <title>Twitter wall</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- vertx eventbus + sockJS-->
    <script src="jquery-1.11.2.min.js"></script>
    <script src="sockjs-0.3.min.js"></script>
    <script src="vertx-eventbus.js"></script>

    <!--notification lib-->
    <script type="text/javascript" src="pnotify.custom.min.js"></script>
    <link href="pnotify.custom.min.css" media="all" rel="stylesheet" type="text/css"/>
</head>
<body>

<script type="text/javascript">
    var eb = new EventBus("/eventbus/");
    eb.onopen = function () {
        eb.registerHandler("webpage", function (err, msg) {
            //index of first space between twitter nickname and body text
            const index = msg.body.indexOf(" ");
            $(function () {
                new PNotify(
                    {
                        //twitter nick
                        title: msg.body.substring(0, index),
                        //body of post
                        text: msg.body.substring(index, msg.body.length)
                    });
            });
        });
    }
</script>
</body>
</html>
